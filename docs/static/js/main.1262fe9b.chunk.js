(this.webpackJsonpbudgetapp=this.webpackJsonpbudgetapp||[]).push([[0],{19:function(e,t,a){e.exports=a(37)},24:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),s=a.n(r),u=(a(24),a(7)),o=a(2),c=a(4);a(25),a(15),a(29),a(31);function i(){return l.a.createElement("div",null,l.a.createElement("div",{className:"footer"},l.a.createElement("p",null,"\xa9 By J.A")))}function m(e){var t=e.setUser,a=e.firebase,r=e.email,s=e.setEmail,u=e.handleUserNameData,c=e.setShowRegister,i=e.setShowLogin,m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],b=d[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"input-container"},l.a.createElement("input",{type:"text",placeholder:"email",onChange:function(e){s(e.target.value)}}),l.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){b(e.target.value)}})),l.a.createElement("input",{type:"submit",value:"Log in",className:"btn",onClick:function(e){e.preventDefault(),""!==r&&""!==p?(console.log("logged in"),t(a.auth().currentUser),a.auth().signInWithEmailAndPassword(r,p).then((function(e){u()})).catch((function(e){var a=e.code,n=e.message;alert(n),"auth/wrong-password"===a?(alert("Wrong password."),t(void 0),i(!1),c(!1)):(alert(n),console.log(e),t(void 0),i(!1),c(!1))}))):(alert("Please enter your password and username"),t(void 0))}}))}function d(e){var t=e.setUser,a=e.firebase,r=e.db,s=e.username,u=e.setUserName,c=e.email,i=e.setEmail,m=e.handleUserNameData,d=e.setShowRegister,p=e.setShowLogin,b=Object(n.useState)(""),g=Object(o.a)(b,2),v=g[0],h=g[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),N=E[0],y=E[1];return l.a.createElement("div",{className:"input-container"},l.a.createElement("input",{type:"text",placeholder:"username",onChange:function(e){u(e.target.value)}}),l.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){i(e.target.value)}}),l.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)}}),l.a.createElement("input",{type:"password",placeholder:"Confirm Password",onChange:function(e){y(e.target.value)}}),l.a.createElement("input",{type:"submit",value:"Register",className:"btn",onClick:function(e){e.preventDefault(),""!==c&&""!==v&&v===N?(t(a.auth().currentUser),a.auth().createUserWithEmailAndPassword(c,v).then((function(e){alert("You have successfully registered"),void 0!==s?r.collection("users").doc(c).collection("personalInfo").doc("username").set({username:s}).then((function(){console.log("Username successfully written!")})).catch((function(e){console.error("Error writing Username: ",e)})):console.log("no user"),m()})).catch((function(e){alert(e.message),console.log(e),t(void 0),p(!1),d(!1)}))):alert("Password does not match")}}))}function p(e){var t=e.signoutHandler,a=e.userData,n=e.allBudgets,r=e.setAllBudgets,s=(e.budg,e.inputs,e.email),u=e.db,o=[],c={};return l.a.createElement("div",{className:"profile"},l.a.createElement("label",{className:"budget-label"},"The Budget App"),a&&l.a.createElement("label",{className:"user"},"Hello ",a,"!"),l.a.createElement("a",{href:"#all-budgets-div"},l.a.createElement("input",{type:"submit",value:"All Budgets",className:"btn",onClick:function(e){u.collection("users").doc(s).collection("months").get().then((function(e){e.forEach((function(e){c={month:e.id,budget:e.data().budg},o.push(c),console.log(e.id," => ",e.data()),console.log(o)})),r(o.sort((function(e,t){return e.budget-t.budget}))),console.log(n)}))}})),l.a.createElement("input",{type:"submit",value:"Log out",className:"btn",onClick:t}))}var b=a(17);function g(e){var t=e.user,a=e.showLogin,n=e.setShowLogin,r=e.handleUserNameData,s=e.email,u=e.setEmail,o=e.db,c=e.setUserName,i=e.setUser,g=e.username,v=e.firebase,h=e.setShowRegister,f=e.showRegister,E=e.userData,N=e.signoutHandler,y=e.allBudgets,O=e.setAllBudgets,B=e.budg,S=e.inputs;return l.a.createElement("div",{className:"navdiv"},void 0===t?l.a.createElement("div",{className:"navbar"},l.a.createElement("label",{className:"budget-label"},"The Budget App"),!a&&l.a.createElement("input",{type:"submit",value:"Log in",className:"btn",onClick:function(e){return n(!a)}}),a?l.a.createElement(m,{setShowLogin:n,setShowRegister:h,handleUserNameData:r,user:t,email:s,setEmail:u,db:o,username:g,setUser:i,firebase:v}):"",!f&&l.a.createElement("input",{type:"submit",value:"Register",className:"btn",onClick:function(e){return h(!f)}}),f?l.a.createElement(d,{setShowLogin:n,setShowRegister:h,handleUserNameData:r,username:g,email:s,setEmail:u,setUserName:c,db:o,user:t,setUser:i,firebase:v}):"",l.a.createElement(b.a,{trigger:l.a.createElement("input",{type:"submit",value:"Learn More",className:"btn"})},l.a.createElement("div",{className:"pop"},l.a.createElement("p",null,"This is an app designed "),l.a.createElement("p",null,"to help you calculate your budget."),l.a.createElement("p",null,"Without registering you can budget"),l.a.createElement("p",null,"only the current month."),l.a.createElement("p",null,"When you log in, "),l.a.createElement("p",null,"you can save your changes."),l.a.createElement("p",null,"When making changes "),l.a.createElement("p",null,"you need to choose a month first.")))):l.a.createElement(p,{email:s,inputs:S,db:o,budg:B,setAllBudgets:O,allBudgets:y,userData:E,signoutHandler:N}))}function v(e){var t=e.inputB,a=e.inputs,n=e.setInputs;return l.a.createElement("div",{className:"input"},l.a.createElement("p",null,t.text," "),l.a.createElement("p",null,parseInt(t.numb)," "),l.a.createElement("p",{className:"empty"}),t?l.a.createElement("button",{type:"submit",className:"button",onClick:function(){return e=t.id,void(0!==a.length&&n(a.filter((function(t){return t.id!==e}))));var e}},"Delete"):null)}function h(e){var t=e.inputs,a=e.setInputs;return l.a.createElement("div",{className:"income"},t.length>0?l.a.createElement("label",null,"Incomes"):"",t.filter((function(e){return e.value.includes("Income")})).map((function(e){return l.a.createElement(v,{inputB:e,setInputs:a,inputs:t})})))}function f(e){var t=e.inputs,a=e.setInputs;return l.a.createElement("div",{className:"expenses"},t.length>0?l.a.createElement("label",null,"Expenses"):"",t.filter((function(e){return e.value.includes("Expense")})).map((function(e){return l.a.createElement(v,{inputB:e,setInputs:a,inputs:t})})))}var E=a(9);function N(e){var t=e.m,a=e.month,n=e.setMonth,r=e.user,s=e.db,u=e.setInputs,o=e.setPrevBudg,c=e.prevBudg,i=e.email;return l.a.createElement("div",{className:"header"},l.a.createElement("h1",null,"Your ",l.a.createElement("label",{className:"budget-label"},"Budget")," for"),l.a.createElement("h1",null,a),l.a.createElement(E.a,{options:[{value:"January",label:"January"},{value:"February",label:"February",prevMonth:"January"},{value:"March",label:"March",prevMonth:"February"},{value:"April",label:"April",prevMonth:"March"},{value:"May",label:"May",prevMonth:"April"},{value:"Jun",label:"Jun",prevMonth:"May"},{value:"July",label:"July",prevMonth:"Jun"},{value:"August",label:"August",prevMonth:"July"},{value:"September",label:"September",prevMonth:"August"},{value:"Octobar",label:"Octobar",prevMonth:"September"},{value:"November",label:"November",prevMonth:"Octobar"},{value:"December",label:"December",prevMonth:"November"}],className:"select",placeholder:"Select Month...",onChange:function(e){console.log(e),void 0!==r?""!==e.value?(n(e.value),console.log(a),console.log(e.label),s.collection("users").doc(i).collection("months").doc(e.value).get().then((function(e){e.exists?(u(e.data().inputs),console.log("Document data:",e.data())):(console.log("No such document!"),u([]))})).catch((function(e){console.error("Error getting document: ",e)})),void 0!==e.prevMonth?s.collection("users").doc(i).collection("months").doc(e.prevMonth).get().then((function(e){e.exists?(o(e.data().budg),console.log(c),console.log("Document data:",e.data().budg)):(console.log("No such document!"),o(0))})).catch((function(e){console.error("Error getting document: ",e)})):o(0)):alert("Choose a month"):(n(t),alert("Please log in to select a specific month"),e.label=t)}}))}function y(e){var t=e.income,a=e.expense,r=e.budg,s=e.setBudg,u=e.prevBudg;return Object(n.useEffect)((function(){var e=0;t.forEach((function(t){e+=parseInt(t.numb)}));var n=0;a.forEach((function(e){n+=parseInt(e.numb)}),[t,a]);var l=e-n;s(l+u)})),l.a.createElement("div",{className:"budget"},l.a.createElement("div",{className:"previous-month"},"Previous Month: ",u),l.a.createElement("div",{className:"current-budget"},"Current Budget: ",r))}function O(e){var t=e.input,a=Object(n.useState)(0),r=Object(o.a)(a,2),s=r[0],u=r[1];return Object(n.useEffect)((function(){if("undefined"!=typeof t&&t instanceof Array&&0!==t.length){var e=0;t.forEach((function(t){e+=parseInt(t.numb)})),u(e)}else u(0)})),l.a.createElement("div",null,l.a.createElement("label",{className:"total"},s))}function B(e){var t=e.handleClick,a=e.db,r=e.month,s=e.user,u=e.inputs,c=e.budg,i=e.email,m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],b=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),h=v[0],f=v[1],N=Object(n.useState)(""),y=Object(o.a)(N,2),O=y[0],B=y[1];return l.a.createElement("div",{className:"form"},l.a.createElement(E.a,{options:[{value:"Income",label:"Income"},{value:"Expense",label:"Expense"}],onChange:function(e){""!==e.value?b(e.value):alert("Please input data")},placeholder:"Choose type...",className:"select"}),l.a.createElement("input",{type:"text",placeholder:"Description",onChange:function(e){void 0!==e.target.value?f(e.target.value):alert("Please enter correct data format")}}),l.a.createElement("input",{type:"text",placeholder:"Amount",onChange:function(e){void 0!==e.target.value?B(e.target.value):alert("Enter correct data format")}}),l.a.createElement("button",{onClick:function(e){""!==h&&""!==O&&""!==p?(isNaN(O)?alert("Use only numbers in the amount field"):t(p,h,O),e.preventDefault()):alert("Do not leave input fields empty")},className:"button"},"Submit"),l.a.createElement("button",{onClick:function(e){void 0!==s?a.collection("users").doc(i).collection("months").doc(r).set({inputs:u,budg:c}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)})):alert("Please Sign in or Register")},className:"button"},"Save"))}function S(e){var t=e.budget;return console.log(t,"monthbudg"),l.a.createElement("div",null,l.a.createElement("div",{style:t.budget<0?{color:"red"}:{color:"black"}},t.month," ",t.budget," "))}function j(e){var t=e.allBudgets,a=e.setAllBudgets;console.log(t);return l.a.createElement("div",{className:"all-budgets"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"X",className:"button",onClick:function(e){a(void 0)}})," "),l.a.createElement("div",null," ",void 0!==t?t.map((function(e){return l.a.createElement(S,{key:e.month,budget:e})})):"")))}function w(e){var t=e.prevBudg,a=e.m,n=e.inputs,r=e.setInputs,s=e.db,u=e.user,o=e.month,c=e.setMonth,i=e.email,m=e.setPrevBudg,d=e.budg,p=e.setBudg,b=e.handleClick,g=e.allBudgets,v=e.setAllBudgets;return l.a.createElement("div",{className:"main"},l.a.createElement(N,{m:a,prevBudg:t,inputs:n,setInputs:r,db:s,user:u,month:o,setMonth:c,setPrevBudg:m,email:i}),l.a.createElement(y,{prevBudg:t,expense:n.filter((function(e){return e.value.includes("Expense")})),income:n.filter((function(e){return e.value.includes("Income")})),budg:d,setBudg:p}),l.a.createElement("div",{className:"income-total"},l.a.createElement("label",null,"Total Incomes:"),l.a.createElement(O,{input:n.filter((function(e){return e.value.includes("Income")}))})),l.a.createElement("div",{className:"expense-total"},l.a.createElement("label",null,"Total Expenses:"),l.a.createElement(O,{input:n.filter((function(e){return e.value.includes("Expense")}))})),l.a.createElement(B,{handleClick:b,inputs:n,month:o,db:s,user:u,budg:d,email:i}),l.a.createElement("div",{className:"container"},l.a.createElement(h,{inputs:n,setInputs:r}),l.a.createElement(f,{inputs:n,setInputs:r})),l.a.createElement(j,{allBudgets:g,setAllBudgets:v}),l.a.createElement("div",{id:"all-budgets-div"}))}var k=a(34);a(15);var A=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),m=Object(o.a)(s,2),d=m[0],p=m[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),h=v[0],f=v[1],E=Object(n.useState)(!1),N=Object(o.a)(E,2),y=N[0],O=N[1],B=Object(n.useState)(0),S=Object(o.a)(B,2),j=S[0],A=S[1],I=Object(n.useState)(0),M=Object(o.a)(I,2),C=M[0],D=M[1],x=Object(n.useState)(""),U=Object(o.a)(x,2),J=U[0],P=U[1],L=Object(n.useState)(""),R=Object(o.a)(L,2),H=R[0],W=R[1],F=Object(n.useState)(""),T=Object(o.a)(F,2),Y=T[0],z=T[1],X=Object(n.useState)(),q=Object(o.a)(X,2),G=q[0],K=q[1];c.apps.length||c.initializeApp({apiKey:"AIzaSyAVNGZqhJbMxHXce-_YzNB0Xb0AY7xsYBs",authDomain:"budget-4f776.firebaseapp.com",databaseURL:"https://budget-4f776.firebaseio.com",projectId:"budget-4f776",storageBucket:"budget-4f776.appspot.com",messagingSenderId:"596525510270",appId:"1:596525510270:web:59c7fd11054177c4a8b22f"});var V=c.firestore(),Z=new Date,_="";switch(Z.getMonth()+1){case 1:_="January";break;case 2:_="February";break;case 3:_="March";break;case 4:_="April";break;case 5:_="May";break;case 6:_="Jun";break;case 7:_="July";break;case 8:_="August";break;case 9:_="September";break;case 10:_="Octobar";break;case 11:_="November";break;case 12:_="December"}var Q=Object(n.useState)(_),$=Object(o.a)(Q,2),ee=$[0],te=$[1];return l.a.createElement("div",{className:"App"},l.a.createElement(g,{setAllBudgets:K,setUserName:P,allBudgets:G,budg:j,inputs:a,showLogin:h,setShowLogin:f,handleUserNameData:function(e){c.auth().onAuthStateChanged((function(e){void 0!==H&&void 0!==J&&e&&V.collection("users").doc(H).collection("personalInfo").doc("username").get().then((function(e){e.exists?(z(e.data().username),console.log(Y),console.log("Document data:",e.data())):z(H)})).catch((function(e){console.error("Error getting document: ",e)}))}))},user:d,email:H,setEmail:W,db:V,username:J,setUser:p,firebase:c,setShowRegister:O,showRegister:y,userData:Y,signoutHandler:function(e){e.preventDefault(),c.auth().signOut(),r([]),p(void 0),f(!1),O(!1),z(""),A(0),D(0),te(_),K(),console.log("logged out")}}),l.a.createElement(w,{allBudgets:G,setAllBudgets:K,m:_,prevBudg:C,inputs:a,setInputs:r,db:V,user:d,month:ee,setMonth:te,setPrevBudg:D,email:H,budg:j,setBudg:A,handleClick:function(e,t,n){var l=Object(u.a)(a);l.push({value:e,text:t,numb:n,id:k()}),r(l)}}),l.a.createElement(i,null))};s.a.render(l.a.createElement(A,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.1262fe9b.chunk.js.map